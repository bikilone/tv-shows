(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{68:function(e,t,a){e.exports=a(95)},73:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(30),o=a.n(i),l=(a(73),a(8)),c=a(14),s=a(18),u=a(15),m=a(17),h=a(103),d=a(67),p=a(102),y=a(64),f=a(63),g=a(24),E=a(16),v=function e(t){Object(l.a)(this,e);var a=t.id,n=(t.name,t.officialSite,t.premiered,t.rating,t.summary),r=t._embedded,i=r.cast,o=r.seasons,c=t.image.original.split("://"),s=c[0]+"s://"+c[1];this.seasons=o,this.summary=n,this.imageOriginal=s,this.id=a,this.cast=i},b=function e(t){Object(l.a)(this,e);var a=t.id,n=t.name,r=t.summary,i=t.image.medium;this.id=a,this.title=n,this.summary=r;var o=i.split("://"),c=o[0]+"s://"+o[1];this.image=c},S=function(){return null!==localStorage.getItem("library")?{type:"GET_LIBRARY",payload:JSON.parse(localStorage.getItem("library"))}:{type:"GET_LIBRARY_FAILED",payload:"Library is empty"}},w=function(e){var t=localStorage.getItem("library"),a={id:e.id,image:e.image,title:e.title,text:e.text};if(null!==t){var n=JSON.parse(t),r=n.findIndex(function(e){return JSON.stringify(e)===JSON.stringify(a)});if(-1===r){n.push(a);var i=JSON.stringify(n);localStorage.setItem("library",i)}else{var o=n.filter(function(e){return e!==n[r]}),l=JSON.stringify(o);localStorage.setItem("library",l)}}else{var c=[a],s=JSON.stringify(c);localStorage.setItem("library",s)}return{type:"SAVE_TV_SHOW"}},O=Object(E.b)(function(e){return{search:e.searchTvShows.search}},function(e){return{searchTvShows:function(t){return e({type:"SEARCH_TV_SHOWS",payload:t.target.value})}}})(function(e){return r.a.createElement(h.a,{collapseOnSelect:!0,expand:"sm",bg:"dark",variant:"dark",style:{marginBottom:"10px"}},r.a.createElement(h.a.Brand,null,r.a.createElement(g.b,{to:"/",style:{color:"white",textDecoration:"none"}},"TV SHOWS")),r.a.createElement(h.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(d.a,{className:"mr-auto"},r.a.createElement(g.b,{to:"/library",style:{color:"#C4C6C8",textDecoration:"none"}},"LIBRARY")),r.a.createElement(d.a,null,r.a.createElement(p.a,{inline:!0},r.a.createElement(p.a.Row,null,r.a.createElement(y.a,null,r.a.createElement(f.a,{type:"text",placeholder:"Search",style:{display:"inline-block"},onChange:e.searchTvShows})))))))}),T=a(104),j=a(96),x=a(66);function _(e){var t=e.src,a=e.title,n=e.text,i=e.saveToLibrary,o=e.id,l=e.fill;return r.a.createElement(y.a,{xs:{span:8,offset:2},sm:{span:6,offset:0},md:4,lg:4,xl:3},r.a.createElement(T.a,{style:{marginBottom:"5px"}},r.a.createElement(T.a.Img,{variant:"top",src:t}),r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,a),r.a.createElement(T.a.Text,{dangerouslySetInnerHTML:{__html:n},style:{height:"100px",overflow:"hidden"}}),r.a.createElement(g.b,{to:"/".concat(o),style:{color:"white"}},r.a.createElement(j.a,{variant:"secondary"},"Details")),r.a.createElement(x.a,{style:{float:"right",color:"white",stroke:"blue",strokeWidth:"3px",cursor:"pointer"},size:"2em",fill:l,onClick:function(){return i({id:o,image:t,title:a,text:n})}}))))}var L=a(97),C=a(98),I=a(99),H=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTvShows(),this.props.getLibrary()}},{key:"render",value:function(){var e=this.props,t=e.tvShows,a=e.isPending,n=e.saveToLibrary,i=e.library,o=e.search,l=t.filter(function(e){return e.title.toLowerCase().includes(o.toLowerCase())});return a?r.a.createElement("div",{className:"d-flex justify-content-center",style:{marginTop:"40vh"}},r.a.createElement(L.a,{animation:"border"})):r.a.createElement(C.a,{fluid:!0},r.a.createElement(I.a,null,l.map(function(e){var t="";return t=-1===i.findIndex(function(t){return JSON.stringify(t.id)===JSON.stringify(e.id)})?"white":"#000000",r.a.createElement(_,{fill:t,id:e.id,saveToLibrary:n,key:e.id,src:e.image,title:e.title,text:e.summary})})))}}]),t}(n.Component),k=Object(E.b)(function(e){return{tvShows:e.fetchTvShows.tvShows,isPending:e.fetchTvShows.isPending,library:e.getLibrary.library,search:e.searchTvShows.search}},function(e){return{fetchTvShows:function(){return e(function(e){fetch("https://api.tvmaze.com/shows").then(function(e){return e.json()}).then(function(e){return e.map(function(e){return new b(e)})}).then(function(t){return e({type:"FETCH_TV_SHOWS_SUCCESS",payload:t})}).catch(function(t){return e({type:"FETCH_TV_SHOWS_FAILED",payload:t})})})},saveToLibrary:function(t){e(w(t)),e(S())},getLibrary:function(){return e(S())}}})(H),W=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getLibrary()}},{key:"render",value:function(){var e=this.props,t=e.library,a=e.saveToLibrary,n=e.search,i=t.filter(function(e){return e.title.toLowerCase().includes(n.toLowerCase())});return t.length<1?r.a.createElement("div",{className:"d-flex justify-content-center",style:{marginTop:"40vh"}},"Library is empty"):r.a.createElement(C.a,{fluid:!0,style:{marginTop:"20px"}},r.a.createElement(I.a,null,i.map(function(e){return r.a.createElement(_,{fill:"#000000",id:e.id,key:e.id,src:e.image,title:e.title,text:e.text,saveToLibrary:a})})))}}]),t}(n.Component),N=Object(E.b)(function(e){return{library:e.getLibrary.library,error:e.getLibrary.error,search:e.searchTvShows.search}},function(e){return{getLibrary:function(){return e(S())},saveToLibrary:function(t){e(w(t)),e(S())}}})(W),A=a(11),D=a(105),B=a(100),F=a(101),J=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSingleShow(this.props.match.params.id),window.scrollTo(0,0)}},{key:"render",value:function(){console.log(this.props.singleShow);var e=this.props,t=e.singleShow,a=e.isPending,n=t.imageOriginal,i=t.name,o=t.summary,l=t.seasons,c=t.cast;t.image;return a?r.a.createElement("div",{className:"d-flex justify-content-center",style:{marginTop:"40vh"}},r.a.createElement(L.a,{animation:"border"})):r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement(I.a,null,r.a.createElement(y.a,{xs:6},r.a.createElement(T.a,{style:{marginBottom:"5px"}},r.a.createElement(T.a.Img,{variant:"top",src:n}),r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,i),r.a.createElement(T.a.Text,{dangerouslySetInnerHTML:{__html:o}})))),r.a.createElement(y.a,{xs:6},r.a.createElement(D.a,{defaultActiveKey:"Cast",id:"uncontrolled-tab-example"},r.a.createElement(B.a,{eventKey:"Seasons",title:"Seasons"},r.a.createElement("ul",{style:{marginTop:"10px",listStyle:"none"}},l.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("span",{style:{fontWeight:"bold"}},"Season ",t+1)," ",e.premiereDate," "," - "," ",e.endDate,r.a.createElement("hr",null))}))),r.a.createElement(B.a,{eventKey:"Cast",title:"Cast"},r.a.createElement(C.a,null,r.a.createElement("ul",{style:{listStyle:"none",padding:"0",marginTop:"10px"}},c.map(function(e,t){return r.a.createElement("li",{key:t,style:{marginBottom:"5px"}},r.a.createElement(I.a,{style:{alignItems:"center"}},r.a.createElement(y.a,{xs:3},r.a.createElement(F.a,{src:e.person.image.medium,style:{width:"100%",minWidth:"40px"}})),r.a.createElement(y.a,{xs:{span:6,offset:1}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",height:"100%"}},r.a.createElement("p",null,e.person.name," as ",e.character.name)))),r.a.createElement("hr",null))})))))))))}}]),t}(n.Component),P=Object(E.b)(function(e){return{singleShow:e.fetchSingleShow.singleShow,error:e.fetchSingleShow.error,isPending:e.fetchSingleShow.isPending}},function(e){return{fetchSingleShow:function(t){return e(function(e){return function(t){fetch("https://api.tvmaze.com/shows/".concat(e,"?embed[]=cast&embed[]=seasons")).then(function(e){return e.json()}).then(function(e){return new v(e)}).then(function(e){return t({type:"FETCH_SINGLE_SHOW",payload:e})}).catch(function(e){return t({type:"FETCH_SINGLE_SHOW_FAILED",payload:e})})}}(t))}}})(J),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("p",{style:{marginTop:"40vh",textAlign:"center"}},"Something went wrong"):this.props.children}}]),t}(n.Component),V=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement(O,null),r.a.createElement(R,null,r.a.createElement(A.c,null,r.a.createElement(A.a,{exact:!0,path:"/",component:k}),r.a.createElement(A.a,{exact:!0,path:"/library",component:N}),r.a.createElement(A.a,{exact:!0,path:"/:id",component:P}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(29),M=a(65),Y=a(26),z={isPending:!0,tvShows:[],error:"",library:[],search:"",singleShow:""},K=Object(G.c)({fetchTvShows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_TV_SHOWS_SUCCESS":return Object(Y.a)({},e,{isPending:!1,tvShows:t.payload});case"FETCH_TV_SHOWS_FAILED":return Object(Y.a)({},e,{isPending:!1,error:t.payload});default:return e}},getLibrary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_LIBRARY":return Object(Y.a)({},e,{library:t.payload,error:""});default:return e}},saveToLibrary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"SAVE_TV_SHOW":default:return e}},searchTvShows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SEARCH_TV_SHOWS":return Object(Y.a)({},e,{search:t.payload});default:return e}},fetchSingleShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_SINGLE_SHOW":return Object(Y.a)({},e,{singleShow:t.payload,isPending:!1});case"FETCH_SINGLE_SHOW_FAILED":return Object(Y.a)({},e,{error:t.payload,isPending:!1});default:return e}}}),U=Object(G.d)(K,Object(G.a)(M.a));o.a.render(r.a.createElement(g.a,null,r.a.createElement(E.a,{store:U},r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[68,1,2]]]);
//# sourceMappingURL=main.b6f95729.chunk.js.map